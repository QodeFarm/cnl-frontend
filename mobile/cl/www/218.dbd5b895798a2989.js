"use strict";(self.webpackChunkcnl=self.webpackChunkcnl||[]).push([[218],{8218:(v,d,n)=>{n.r(d),n.d(d,{WarehousesComponent:()=>g});var l=n(6814),m=n(3929),e=n(5879),c=n(7871),p=n(2787);let u=(()=>{class s{refreshTable(){this.taTableComponent?.refresh()}constructor(t){this.router=t,this.edit=new e.vpe,this.tableConfig={apiUrl:"inventory/warehouses/",showCheckbox:!0,pkId:"warehouse_id",pageSize:10,globalSearch:{keys:["created_at","name","code","phone","city_id","state_id"]},defaultSort:{key:"created_at",value:"descend"},cols:[{fieldKey:"name",name:"Name",sort:!0},{fieldKey:"code",name:"Code",sort:!0},{fieldKey:"phone",name:"Phone",sort:!0},{fieldKey:"city_id",name:"City",sort:!0,displayType:"map",mapFn:(o,a,r)=>`${a.city.city_name}`},{fieldKey:"state_id",name:"State",sort:!0,displayType:"map",mapFn:(o,a,r)=>`${a.state.state_name}`},{fieldKey:"code",name:"Action",type:"action",actions:[{type:"delete",label:"Delete",apiUrl:"inventory/warehouses"},{type:"callBackFn",icon:"fa fa-pen",label:"",callBackFn:(o,a)=>{console.log(o),this.edit.emit(o.warehouse_id)}}]}]}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-warehouses-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(c.Z,5),2&t){let a;e.iGM(a=e.CRH())&&(o.taTableComponent=a.first)}},outputs:{edit:"edit"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[1,"custom-list",3,"options"]],template:function(t,o){1&t&&e._UZ(0,"ta-table",0),2&t&&e.Q6J("options",o.tableConfig)},dependencies:[l.ez,m.l,c.Z]}),s})();var h=n(9862),f=n(7127);function y(s,i){1&s&&(e.TgZ(0,"span",17),e._uU(1,"Update Warehouses"),e.qZA())}function b(s,i){1&s&&(e.TgZ(0,"span",17),e._uU(1,"Create Warehouses"),e.qZA())}function C(s,i){if(1&s&&(e.TgZ(0,"div",18),e._UZ(1,"ta-form",19),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("options",t.formConfig)}}function _(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",20)(1,"app-warehouses-list",21),e.NdJ("edit",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.editWarehouses(a))}),e.qZA()()}}let g=(()=>{class s{constructor(t){this.http=t,this.showWarehousesList=!1,this.showForm=!1,this.formConfig={}}ngOnInit(){this.showWarehousesList=!1,this.showForm=!0,this.WarehousesEditID=null,this.setFormConfig(),console.log("this.formConfig",this.formConfig)}hide(){document.getElementById("modalClose").click()}editWarehouses(t){console.log("event",t),this.WarehousesEditID=t,this.http.get("inventory/warehouses/"+t).subscribe(o=>{o&&(this.formConfig.model=o,this.formConfig.showActionBtn=!0,this.formConfig.pkId="warehouse_id",this.formConfig.submit.label="Update",this.showForm=!0)}),this.hide()}showWarehousesListFn(){this.showWarehousesList=!0,this.WarehousesListComponent?.refreshTable()}setFormConfig(){this.WarehousesEditID=null,this.formConfig={url:"inventory/warehouses/",formState:{viewMode:!1},showActionBtn:!0,exParams:[{key:"item_type_id",type:"script",value:"data.item_type.item_type_id"},{key:"city_id",type:"script",value:"data.city.city_id"},{key:"state_id",type:"script",value:"data.state.state_id"},{key:"country_id",type:"script",value:"data.country.country_id"}],submit:{label:"Submit",submittedFn:()=>this.ngOnInit()},reset:{resetFn:()=>{this.ngOnInit()}},model:{},fields:[{fieldGroupClassName:"ant-row custom-form-block px-0 mx-0",fieldGroup:[{key:"name",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Name",placeholder:"Enter Name",required:!0}},{key:"code",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Code",placeholder:"Enter Code",required:!1}},{key:"phone",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Phone",placeholder:"Enter Phone Number",required:!1}},{key:"email",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Email",placeholder:"Enter Email",required:!1}},{key:"address",type:"textarea",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Address",placeholder:"Enter Address",required:!1}},{key:"city",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"City",dataKey:"city_id",dataLabel:"city_name",options:[],lazy:{url:"masters/city/",lazyOneTime:!0},required:!0},hooks:{onInit:t=>{}}},{key:"state",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"State",dataKey:"state_id",dataLabel:"state_name",options:[],lazy:{url:"masters/state/",lazyOneTime:!0},required:!0},hooks:{onInit:t=>{}}},{key:"country",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Country",dataKey:"country_id",dataLabel:"country_name",options:[],lazy:{url:"masters/country/",lazyOneTime:!0},required:!1},hooks:{onInit:t=>{}}},{key:"pin_code",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Pin Code",placeholder:"Enter Pin Code",required:!1}},{key:"item_type",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Item Type",dataKey:"item_type_id",dataLabel:"item_name",options:[],lazy:{url:"masters/product_item_type/",lazyOneTime:!0},required:!1},hooks:{onInit:t=>{t.formControl.valueChanges.subscribe(o=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.item_type_id?this.formConfig.model.item_type_id=o.item_type_id:console.error("Form config or item type data model is not defined.")})}}},{key:"longitude",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Longitude",required:!1},hooks:{onInit:t=>{}}},{key:"latitude",type:"input",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Latitude",required:!1},hooks:{onInit:t=>{}}}]}]}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.eN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-warehouses"]],viewQuery:function(t,o){if(1&t&&e.Gf(u,5),2&t){let a;e.iGM(a=e.CRH())&&(o.WarehousesListComponent=a.first)}},standalone:!0,features:[e.jDz],decls:21,vars:4,consts:[[1,"container-fluid","p-3"],[1,"warehouses-banner"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between","align-items","center","flex-wrap","wrap"],["type","button",1,"btn","pl-0",2,"color","black",3,"click"],["class","custom-heading",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#warehousesListModal",1,"btn","btn-primary",3,"click"],[1,"row","custom-form"],["class","col-12 px-1",4,"ngIf"],["id","warehousesListModal","tabindex","-1","aria-labelledby","warehousesListModalLabel","aria-hidden","true",1,"modal","fade","custom-modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","warehousesListModalLabel",1,"modal-title"],["type","button","id","modalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],[1,"custom-heading"],[1,"col-12","px-1"],[3,"options"],[1,"modal-body"],[1,"custom-list",3,"edit"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.WarehousesEditID=null}),e.YNc(4,y,2,0,"span",4),e.YNc(5,b,2,0,"span",4),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.showWarehousesListFn()}),e._uU(7," Warehouses List "),e.qZA()()(),e.TgZ(8,"div",6),e.YNc(9,C,2,1,"div",7),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),e._uU(15,"Edit Warehouses List"),e.qZA(),e._UZ(16,"button",13),e.qZA(),e.YNc(17,_,2,0,"div",14),e.TgZ(18,"div",15)(19,"button",16),e._uU(20,"Close"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",o.WarehousesEditID),e.xp6(1),e.Q6J("ngIf",!o.WarehousesEditID),e.xp6(4),e.Q6J("ngIf",o.showForm),e.xp6(8),e.Q6J("ngIf",o.showWarehousesList))},dependencies:[l.ez,l.O5,m.l,f.C,u]}),s})()}}]);