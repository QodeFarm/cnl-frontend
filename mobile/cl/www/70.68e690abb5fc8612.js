"use strict";(self.webpackChunkcnl=self.webpackChunkcnl||[]).push([[70],{6374:(N,y,i)=>{i.d(y,{l:()=>O});var d=i(5879),h=i(6814),C=i(3929),o=i(7871),v=i(2787);let O=(()=>{class f{refreshTable(){this.taTableComponent?.refresh()}constructor(c){this.router=c,this.edit=new d.vpe,this.tableConfig={apiUrl:"vendors/vendors/?summary=true",title:"Vendors",showCheckbox:!0,pkId:"vendor_id",fixedFilters:[{key:"summary",value:"true"}],pageSize:10,globalSearch:{keys:["created_at","name","gst_no","email","phone","vendor_category_id","ledger_account","city_id"]},defaultSort:{key:"created_at",value:"descend"},cols:[{fieldKey:"name",name:"Name",sort:!0},{fieldKey:"gst_no",name:"GST No",sort:!0},{fieldKey:"email",name:"Email",sort:!1},{fieldKey:"phone",name:"Phone",sort:!1},{fieldKey:"vendor_category_id",name:"Vendor Category",sort:!0,displayType:"map",mapFn:(m,p,b)=>p.vendor_category?.name},{fieldKey:"ledger_account",name:"Ledger Account",sort:!0,displayType:"map",mapFn:(m,p,b)=>p.ledger_account?.name},{fieldKey:"city_id",name:"City Name",sort:!1,displayType:"map",mapFn:(m,p,b)=>p.city?.city_name},{fieldKey:"vendor_id",name:"Action",type:"action",actions:[{type:"delete",label:"Delete",confirm:!0,confirmMsg:"Sure to delete?",apiUrl:"vendors/vendors"},{type:"callBackFn",icon:"fa fa-pen",callBackFn:(m,p)=>{console.log(`vendor ID: ${m.vendor_id}`),this.edit.emit(m.vendor_id)}}]}]}}}return f.\u0275fac=function(c){return new(c||f)(d.Y36(v.F0))},f.\u0275cmp=d.Xpm({type:f,selectors:[["app-vendors-list"]],viewQuery:function(c,m){if(1&c&&d.Gf(o.Z,5),2&c){let p;d.iGM(p=d.CRH())&&(m.taTableComponent=p.first)}},outputs:{edit:"edit"},standalone:!0,features:[d.jDz],decls:1,vars:1,consts:[[1,"custom-list",3,"options"]],template:function(c,m){1&c&&d._UZ(0,"ta-table",0),2&c&&d.Q6J("options",m.tableConfig)},dependencies:[h.ez,C.l,o.Z]}),f})()},5070:(N,y,i)=>{i.r(y),i.d(y,{VendorsComponent:()=>b});var d=i(3929),h=i(6374),C=i(6814),o=i(5879),v=i(9862),O=i(7127);function f(a,u){1&a&&(o.TgZ(0,"span",21),o._uU(1,"Update Vendor"),o.qZA())}function g(a,u){1&a&&(o.TgZ(0,"span",21),o._uU(1,"Create Vendor"),o.qZA())}function c(a,u){if(1&a&&(o.TgZ(0,"div",22),o._UZ(1,"ta-form",23),o.qZA()),2&a){const e=o.oxw();o.xp6(1),o.Q6J("options",e.formConfig)}}function m(a,u){if(1&a){const e=o.EpF();o.TgZ(0,"div",24)(1,"app-vendors-list",25),o.NdJ("edit",function(l){o.CHM(e);const s=o.oxw();return o.KtG(s.editVendor(l))}),o.qZA()()}}function p(a,u){if(1&a&&(o.TgZ(0,"div",26)(1,"div",27)(2,"span",28),o._uU(3,"\u2714"),o.qZA()(),o.TgZ(4,"span",29),o._uU(5),o.qZA(),o.TgZ(6,"span",30),o._uU(7,"x"),o.qZA()()),2&a){const e=o.oxw();o.xp6(5),o.Oqu(e.toastMessage)}}let b=(()=>{class a{constructor(e){this.http=e,this.showVendorList=!1,this.showForm=!1,this.nowDate=()=>{const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`},this.customFieldMetadata={},this.showSuccessToast=!1,this.toastMessage="",this.formConfig={}}ngOnInit(){this.showVendorList=!1,this.showForm=!0,this.VendorEditID=null,this.setFormConfig(),console.log("this.formConfig",this.formConfig),this.fetchCustomFields()}fetchCustomFields(){this.http.get("customfields/customfieldscreate/").subscribe(e=>{if(console.log("Custom Fields API Response:",e),e?.data){const t=e.data.filter(l=>"vendors"===l.entity.entity_name);this.customFieldMetadata=t.reduce((l,s)=>(l[s.custom_field_id.toLowerCase()]={custom_field_id:s.custom_field_id,field_type_id:s.field_type_id,entity_id:s.entity.entity_id,is_required:s.is_required,validation_rules:s.validation_rules,options:[]},l),{}),console.log("Custom Field Metadata:",this.customFieldMetadata),this.fetchAllFieldOptions(t)}else console.warn("No custom fields data found in the API response.")},e=>{console.error("Error fetching custom fields:",e)})}fetchAllFieldOptions(e){this.http.get("customfields/customfieldoptions/").subscribe(t=>{if(console.log("Custom Field Options API Response:",t),t?.data){const l=t.data.reduce((s,n)=>{const r=n.custom_field_id.toLowerCase();return s[r]||(s[r]=[]),n.option_value&&s[r].push({label:n.option_value,value:n.option_value}),s},{});Object.keys(l).forEach(s=>{this.customFieldMetadata[s]&&(this.customFieldMetadata[s].options=l[s])}),console.log("Updated Custom Field Metadata with Options:",this.customFieldMetadata),this.addCustomFieldsToFormConfig(e)}else console.warn("No options found in the API response."),this.addCustomFieldsToFormConfig(e)},t=>{console.error("Error fetching custom field options:",t),this.addCustomFieldsToFormConfig(e)})}addCustomFieldsToFormConfig(e){console.log("Custom Fields to Add:",e);const t=e.map(l=>{const s=l.custom_field_id.toLowerCase(),n=this.customFieldMetadata[s]||{};return{key:s,type:n.options.length>0?"select":"input",className:"col-md-6",defaultValue:this.formConfig.model.custom_field_values[s]||"",templateOptions:{label:l.field_name,placeholder:l.field_name,required:n.is_required,options:n.options}}});console.log("Final Custom Field Config:",t),this.formConfig.fields[1].fieldGroup=[...this.formConfig.fields[1].fieldGroup,{className:"col-12 custom-form-card-block p-0",fieldGroupClassName:"row m-0 pr-0",props:{label:"Custom Fields"},fieldGroup:[{className:"col-9 p-0",key:"custom_field_values",fieldGroupClassName:"ant-row mx-0 row align-items-end mt-2",fieldGroup:t}]}],this.formConfig.fields=[...this.formConfig.fields,{key:"custom_field_values",fieldGroup:t,hide:!0}]}submitCustomerForm(){const e={...this.formConfig.model.vendor_data},t=this.formConfig.model.vendor_attachments,l=this.formConfig.model.vendor_addresses,s=this.formConfig.model.custom_field_values;if(!e)return void console.error("Customer data is missing.");const n=this.constructCustomFieldsPayload(s),r={vendor_data:e,vendor_addresses:l,vendor_attachments:t,custom_field:n.custom_field,custom_field_values:n.custom_field_values};console.log("Final Payload:",r),this.http.post("vendors/vendors/",r).subscribe(_=>{this.showSuccessToast=!0,this.toastMessage="Record Created successfully",this.ngOnInit(),setTimeout(()=>{this.showSuccessToast=!1},3e3)},_=>{console.error("Error creating customer and custom fields:",_)})}showDialog(){const e=document.getElementById("customDialog");e&&(e.style.display="flex")}closeDialog(){const e=document.getElementById("customDialog");e&&(e.style.display="none")}constructCustomFieldsPayload(e){if(!e)return console.warn("No custom field values provided."),{custom_field:{},custom_field_options:[],custom_field_values:[]};const t=[],l=[];return Object.keys(e).forEach(s=>{const n=this.customFieldMetadata[s.toLowerCase()]||{};n.is_required&&(""===e[s]||null==e[s])&&l.push(s),""!==e[s]&&null!=e[s]&&t.push({field_value:e[s],field_value_type:"number"==typeof e[s]?"number":"string",entity_id:n.entity_name||"c6ee3061-d258-4c98-a2cf-81a8a107a221",custom_field_id:s,custom_id:this.formConfig.model.vendor_data.vendor_id})}),l.length>0?(console.error("Required fields missing:",l),this.showDialog(),null):{custom_field:Object.keys(e).map(s=>({field_name:s,is_required:this.customFieldMetadata[s.toLowerCase()]?.is_required||!1,validation_rules:this.customFieldMetadata[s.toLowerCase()]?.validation_rules||null,field_type_id:this.customFieldMetadata[s.toLowerCase()]?.field_type_id||null,entity_id:this.customFieldMetadata[s.toLowerCase()]?.entity_id||null})),custom_field_values:t}}updateCustomer(){const e={...this.formConfig.model.vendor_data},t=this.formConfig.model.vendor_attachments,l=this.formConfig.model.vendor_addresses,s=this.formConfig.model.custom_field_values;if(!e)return void console.error("Customer data is missing.");const n=this.constructCustomFieldsPayload(s);console.log("Testing the data in customFieldsPayload: ",n);const r={vendor_data:e,vendor_addresses:l,vendor_attachments:t,custom_field:n.custom_field,custom_field_options:n.custom_field_options,custom_field_values:n.custom_field_values};console.log("Final Payload for Update:",r),this.http.put(`vendors/vendors/${e.vendor_id}/`,r).subscribe(_=>{this.showSuccessToast=!0,this.toastMessage="Record updated successfully",this.ngOnInit(),setTimeout(()=>{this.showSuccessToast=!1},3e3)},_=>{console.error("Error updating customer:",_)})}ngAfterViewInit(){const e=".vendors-component";this.applyDomManipulations(e);const t=document.querySelector(e);t&&(this.observer=new MutationObserver(()=>{this.applyDomManipulations(e)}),this.observer.observe(t,{childList:!0,subtree:!0}))}applyDomManipulations(e){const t=document.querySelector(e);if(!t)return;Array.from(t.querySelectorAll(".custom-form-list .table th")).forEach(n=>{if("Actions"===n.innerText.trim()){n.style.display="none";const r=Array.from(n.parentElement?.children||[]).indexOf(n);t.querySelectorAll(".custom-form-list .table tbody tr").forEach(x=>{const k=x.children;k[r]&&(k[r].style.display="none")})}});const s=t.querySelector(".custom-form-list .ant-card-head button");s&&s.remove()}ngOnDestroy(){this.observer&&this.observer.disconnect()}hide(){document.getElementById("modalClose").click()}editVendor(e){this.VendorEditID=e,this.http.get("vendors/vendors/"+e).subscribe(t=>{t&&t.data&&(this.formConfig.model=t.data,t.data.custom_field_values&&(this.formConfig.model.custom_field_values=t.data.custom_field_values.reduce((l,s)=>(l[s.custom_field_id]=s.field_value,l),{})),this.formConfig.submit.label="Update",this.formConfig.pkId="vendor_id",this.formConfig.model.vendor_id=this.VendorEditID,this.showForm=!0)}),this.hide()}showVendorListFn(){this.showVendorList=!0,this.VendorsListComponent?.refreshTable()}setFormConfig(){this.VendorEditID=null,this.formConfig={title:"Vendor",formState:{viewMode:!1},showActionBtn:!0,exParams:[],submit:{label:"Submit",submittedFn:()=>{this.VendorEditID?this.updateCustomer():this.submitCustomerForm()}},reset:{resetFn:()=>{this.ngOnInit()}},model:{vendor_data:{},vendor_addresses:[{address_type:"Billing"},{address_type:"Shipping"}],vendor_attachments:[],custom_field_values:[]},fields:[{fieldGroup:[{className:"col-12 custom-form-card-block p-0",key:"vendor_data",fieldGroupClassName:"row m-0 pr-0 responsive-row",fieldGroup:[{className:"col-sm-9 col-12 p-0",fieldGroupClassName:"row m-0 p-0",fieldGroup:[{className:"col-md-4 col-sm-6 col-12",key:"name",type:"input",templateOptions:{label:"Name",placeholder:"Enter Name",required:!0}},{className:"col-md-4 col-sm-6 col-12",key:"print_name",type:"input",templateOptions:{label:"Print Name",placeholder:"Enter Print Name",required:!0}},{className:"col-md-4 col-sm-6 col-12",key:"code",type:"input",templateOptions:{label:"Code",placeholder:"Enter Code",required:!0}},{className:"col-md-4 col-sm-6 col-12",key:"vendor_category",type:"select",templateOptions:{label:"Vendor Category",dataKey:"vendor_category_id",dataLabel:"name",options:[],lazy:{url:"vendors/vendor_category/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.vendor_category_id=t.vendor_category_id:console.error("Form config or Vendor data model is not defined.")})}}},{key:"ledger_account",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{dataKey:"ledger_account_id",dataLabel:"name",label:"Ledger Account",placeholder:"Ledger Account",required:!0,lazy:{url:"customers/ledger_accounts/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{console.log("ledger_account",t),this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.ledger_account_id=t.ledger_account_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-md-4 col-sm-6 col-12",key:"tax_type",type:"select",templateOptions:{label:"Tax Type",placeholder:"Select Tax Type",options:[{value:"Inclusive",label:"Inclusive"},{value:"Exclusive",label:"Exclusive"}],required:!0}}]},{className:"col-sm-3 col-12 p-0",fieldGroupClassName:"ant-row row mx-0 mt-2",fieldGroup:[{key:"picture",type:"file",className:"ta-cell pr-md col d-flex justify-content-md-center pr-0",templateOptions:{label:"Picture",required:!0}}]}]}]},{className:"tab-form-list",type:"tabs",fieldGroup:[{className:"col-12 pb-0",fieldGroupClassName:"field-no-bottom-space",props:{label:"Addresses"},fieldGroup:[{fieldGroupClassName:"",fieldGroup:[{key:"vendor_addresses",type:"table",className:"custom-form-list no-ant-card",templateOptions:{tableCols:[{name:"address_type",label:"Address Type"},{name:"address",label:"Address"},{name:"city",label:"City"},{name:"state",label:"State"},{name:"country",label:"Country"},{name:"pin_code",label:"Pin Code"},{name:"phone",label:"Phone"},{name:"email",label:"Email"},{name:"route_map",label:"Route Map"},{name:"longitude",label:"Longitude"},{name:"latitude",label:"Latitude"}]},fieldArray:{fieldGroup:[{key:"address_type",type:"input",className:"custom-select-bold",templateOptions:{label:"Address Type",hideLabel:!0,readonly:!0,required:!0,value:"Billing",attributes:{style:"font-weight: bold; border: none; background-color: transparent; margin-bottom: 10px;"}}},{key:"city",type:"select",templateOptions:{dataKey:"city_id",dataLabel:"city_name",label:"City",placeholder:"city",hideLabel:!0,required:!0,lazy:{url:"masters/city/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{console.log("city",t),this.formConfig&&this.formConfig.model?this.formConfig.model.vendor_addresses[e.parent.key].city_id=t.city_id:console.error("Form config or Vendor addresses model is not defined.")})}}},{key:"state",type:"select",templateOptions:{dataKey:"state_id",dataLabel:"state_name",label:"State",placeholder:"state",hideLabel:!0,required:!0,lazy:{url:"masters/state/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{console.log("state",t),this.formConfig&&this.formConfig.model?this.formConfig.model.vendor_addresses[e.parent.key].state_id=t.state_id:console.error("Form config or Vendor addresses model is not defined.")})}}},{key:"country",type:"select",templateOptions:{dataKey:"country_id",dataLabel:"country_name",label:"Country",hideLabel:!0,required:!0,placeholder:"country",lazy:{url:"masters/country/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{console.log("country",t),this.formConfig&&this.formConfig.model?this.formConfig.model.vendor_addresses[e.parent.key].country_id=t.country_id:console.error("Form config or Vendor addresses model is not defined.")})}}},{type:"input",key:"pin_code",templateOptions:{label:"Pin Code",hideLabel:!0,placeholder:"Pin Code"}},{type:"input",key:"phone",templateOptions:{label:"Phone",hideLabel:!0,placeholder:"Phone"}},{type:"input",key:"email",templateOptions:{label:"Email",hideLabel:!0,placeholder:"email"}},{type:"textarea",key:"address",templateOptions:{label:"Address",hideLabel:!0,placeholder:"Address"}}]}}]}]},{className:"col-12 custom-form-card-block",props:{label:"Account Details"},fieldGroup:[{fieldGroup:[{className:"col-12 p-0",key:"vendor_data",fieldGroupClassName:"ant-row row align-items-end mt-3",fieldGroup:[{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"payment_term",type:"select",templateOptions:{label:"Payment Term",dataKey:"payment_term_id",dataLabel:"name",options:[],lazy:{url:"vendors/vendor_payment_terms/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.payment_term_id=t.payment_term_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"interest_rate_yearly",type:"input",templateOptions:{label:"Interest Rate Yearly",placeholder:"Enter Interest Rate Yearly",type:"number"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"price_category",type:"select",templateOptions:{label:"Price Category",dataKey:"price_category_id",dataLabel:"name",options:[],lazy:{url:"masters/price_categories/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.price_category_id=t.price_category_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"credit_limit",type:"input",templateOptions:{label:"Credit Limit",placeholder:"Enter Credit Limit",type:"number"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"max_credit_days",type:"input",templateOptions:{label:"Max Credit Days",placeholder:"Enter Max Credit Days",type:"number"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"is_sub_vendor",type:"checkbox",templateOptions:{label:"Is Sub Vendor"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"vendor_common_for_sales_purchase",type:"checkbox",templateOptions:{label:"Vendor common for Sales and Purchase"}}]}]}]},{className:"col-12 pb-0",fieldGroupClassName:"field-no-bottom-space",props:{label:"Social Accounts"},fieldGroup:[{fieldGroupClassName:"",fieldGroup:[{className:"col-12 p-0",key:"vendor_data",fieldGroupClassName:"ant-row row align-items-end mt-3",fieldGroup:[{className:"ta-cell pr-md col-lg-3 col-md-4 col-sm-6 col-12",key:"website",type:"input",templateOptions:{label:"Website",placeholder:"Enter Website URL"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"facebook",type:"input",templateOptions:{label:"Facebook",placeholder:"Enter Facebook URL"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"skype",type:"input",templateOptions:{label:"Skype",placeholder:"Enter Skype ID"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"twitter",type:"input",templateOptions:{label:"Twitter",placeholder:"Enter Twitter URL"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"linked_in",type:"input",templateOptions:{label:"LinkedIn",placeholder:"Enter LinkedIn URL"}}]}]}]},{className:"col-12 pb-0",fieldGroupClassName:"field-no-bottom-space",props:{label:"Tax Details"},fieldGroup:[{fieldGroupClassName:"",fieldGroup:[{className:"col-12 p-0",key:"vendor_data",fieldGroupClassName:"ant-row row align-items-end mt-3",fieldGroup:[{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"gst_category",type:"select",templateOptions:{label:"GST Category",dataKey:"gst_category_id",dataLabel:"name",options:[],lazy:{url:"masters/gst_categories/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.gst_category_id=t.gst_category_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"gst",type:"input",templateOptions:{label:"GST No",placeholder:"Enter GST"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"cin",type:"input",templateOptions:{label:"CIN",placeholder:"Enter CIN"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"pan",type:"input",templateOptions:{label:"PAN",placeholder:"Enter PAN"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"gst_suspend",type:"checkbox",templateOptions:{label:"GST Suspend"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"tds_on_gst_applicable",type:"checkbox",templateOptions:{label:"TDS on GST Applicable"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"tds_applicable",type:"checkbox",templateOptions:{label:"TDS Applicable"}}]}]}]},{className:"col-12 pb-0",fieldGroupClassName:"field-no-bottom-space",props:{label:"Transport Details"},fieldGroup:[{fieldGroupClassName:"",fieldGroup:[{className:"col-12 p-0",key:"vendor_data",fieldGroupClassName:"ant-row row align-items-end mt-3",fieldGroup:[{className:"col-md-4 col-sm-6 col-12",key:"transporter",type:"select",templateOptions:{label:"Transporter",dataKey:"transporter_id",dataLabel:"name",options:[],lazy:{url:"masters/transporters/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.transporter_id=t.transporter_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-md-4 col-sm-6 col-12",key:"distance",type:"input",templateOptions:{label:"Distance",placeholder:"Enter Distance",type:"number"}}]}]}]},{className:"col-12 px-0 pt-3",props:{label:"Attachments"},fieldGroup:[{fieldGroupClassName:"",fieldGroup:[{className:"col-12 custom-form-card-block w-100 p-0",fieldGroup:[{key:"vendor_attachments",type:"file",className:"ta-cell col-12 col-md-6 custom-file-attachement",props:{displayStyle:"files",multiple:!0}}]}]}]},{className:"col-12 custom-form-card-block p-0",fieldGroupClassName:"row m-0 pr-0",props:{label:"Other Details"},fieldGroup:[{className:"col-12 p-0",key:"vendor_data",fieldGroupClassName:"ant-row mx-0 row align-items-end mt-2",fieldGroup:[{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"contact_person",type:"input",templateOptions:{label:"Contact Person",placeholder:"Enter Contact Person"}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"firm_status",type:"select",templateOptions:{label:"Firm Status",dataKey:"firm_status_id",dataLabel:"name",options:[],lazy:{url:"masters/firm_statuses/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.firm_status_id=t.firm_status_id:console.error("Form config or Vendor data model is not defined.")})}}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"registration_date",type:"date",defaultValue:this.nowDate(),templateOptions:{label:"Registration Date",placeholder:"Enter Registration Date",type:"date",readonly:!0}},{className:"col-lg-3 col-md-4 col-sm-6 col-12",key:"territory",type:"select",templateOptions:{label:"Territory",dataKey:"territory_id",dataLabel:"name",options:[],lazy:{url:"masters/territory/",lazyOneTime:!0}},hooks:{onChanges:e=>{e.formControl.valueChanges.subscribe(t=>{this.formConfig&&this.formConfig.model&&this.formConfig.model.vendor_data?this.formConfig.model.vendor_data.territory_id=t.territory_id:console.error("Form config or Vendor data model is not defined.")})}}}]}]}]}]}}}return a.\u0275fac=function(e){return new(e||a)(o.Y36(v.eN))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-vendors"]],viewQuery:function(e,t){if(1&e&&o.Gf(h.l,5),2&e){let l;o.iGM(l=o.CRH())&&(t.VendorsListComponent=l.first)}},standalone:!0,features:[o.jDz],decls:28,vars:5,consts:[[1,"vendors-component","container-fluid","pt-3"],[1,"vendors-banner"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between","align-items","center"],["type","button",1,"btn","pl-0",2,"color","black",3,"click"],["class","custom-heading",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#vendorListModal",1,"btn","btn-primary",3,"click"],[1,"row","custom-form"],["class","col-12 px-1",4,"ngIf"],["id","vendorListModal","tabindex","-1","aria-labelledby","vendorListModalLabel","aria-hidden","true",1,"modal","fade","custom-modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","vendorListModalLabel",1,"modal-title"],["type","button","id","modalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["id","customToast","class","toast-message",4,"ngIf"],["id","customDialog",1,"custom-dialog-overlay",2,"display","none"],[1,"custom-dialog-box"],["id","dialogOkButton",3,"click"],[1,"custom-heading"],[1,"col-12","px-1"],[3,"options"],[1,"modal-body"],[1,"custom-list",3,"edit"],["id","customToast",1,"toast-message"],[1,"tick-circle"],[1,"tick-mark"],[1,"toast-message-text"],["onclick","this.parentElement.style.display='none'",1,"toast-close"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),o.NdJ("click",function(){return t.VendorEditID=null}),o.YNc(4,f,2,0,"span",4),o.YNc(5,g,2,0,"span",4),o.qZA(),o.TgZ(6,"button",5),o.NdJ("click",function(){return t.showVendorListFn()}),o._uU(7,"Vendor List "),o.qZA()()(),o.TgZ(8,"div",6),o.YNc(9,c,2,1,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),o._uU(15,"Edit Vendor List"),o.qZA(),o._UZ(16,"button",13),o.qZA(),o.YNc(17,m,2,0,"div",14),o.TgZ(18,"div",15)(19,"button",16),o._uU(20,"Close"),o.qZA()()()()(),o.YNc(21,p,8,1,"div",17),o.TgZ(22,"div",18)(23,"div",19)(24,"p"),o._uU(25," \u26a0\ufe0f Please fill in all required fields before submitting."),o.qZA(),o.TgZ(26,"button",20),o.NdJ("click",function(){return t.closeDialog()}),o._uU(27,"OK"),o.qZA()()()),2&e&&(o.xp6(4),o.Q6J("ngIf",t.VendorEditID),o.xp6(1),o.Q6J("ngIf",!t.VendorEditID),o.xp6(4),o.Q6J("ngIf",t.showForm),o.xp6(8),o.Q6J("ngIf",t.showVendorList),o.xp6(4),o.Q6J("ngIf",t.showSuccessToast))},dependencies:[C.ez,C.O5,d.l,O.C,h.l],styles:['.custom-form-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.actions-column[_ngcontent-%COMP%], .custom-form-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td.actions-column[_ngcontent-%COMP%]{display:none!important}.custom-form-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:contains("Actions"), .custom-form-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.actions-column[_ngcontent-%COMP%]{display:none!important}.custom-form-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td.actions-column[_ngcontent-%COMP%], .custom-form-list[_ngcontent-%COMP%]   .ant-card-head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{display:none!important}.toast-message[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background-color:#fff;color:#0e0d0d;padding:12px 30px;height:60px;width:385px;border-radius:0;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;font-family:Arial,sans-serif;font-size:16px;font-weight:500;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out;border:2px solid #dcdcdc}.tick-circle[_ngcontent-%COMP%]{width:23px;height:23px;background-color:#fff;border:2px solid #28a745;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:12px}.tick-mark[_ngcontent-%COMP%]{color:#28a745;font-size:12px;line-height:1}.toast-message-text[_ngcontent-%COMP%]{flex:1;color:#292929;font-size:16px;font-weight:500}.toast-close[_ngcontent-%COMP%]{font-size:16px;color:#494949;cursor:pointer;margin-left:12px}.toast-close[_ngcontent-%COMP%]:hover{color:#000}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.custom-dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:999}.custom-dialog-box[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0003;text-align:center;width:300px}.custom-dialog-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.custom-dialog-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.custom-dialog-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}']}),a})()}}]);