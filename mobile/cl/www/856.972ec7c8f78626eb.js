"use strict";(self.webpackChunkcnl=self.webpackChunkcnl||[]).push([[856],{6856:(u,r,a)=>{a.r(r),a.d(r,{UserComponent:()=>c});var i=a(6814),d=a(3929),t=a(5879),m=a(1495),p=a(5581);let c=(()=>{class o{constructor(l){this.taLocal=l,this.curdConfig={drawerSize:500,drawerPlacement:"top",tableConfig:{title:"Users",pkId:"user_id",pageSize:10,globalSearch:{keys:["username","email","role","mobile"]},cols:[{fieldKey:"username",name:"Name",sort:!0},{fieldKey:"email",name:"Email",sort:!0},{fieldKey:"role",name:"Role",sort:!0,displayType:"map",mapFn:(e,n,f)=>`${n.role?.role_name||"--"}`},{fieldKey:"mobile",name:"Mobile No.",sort:!0},{fieldKey:"code",name:"Action",type:"action",actions:[{type:"delete",label:"Delete",confirm:!0,confirmMsg:"Sure to delete?",apiUrl:"users/create_user"},{type:"edit",label:"Edit"}]}]},formConfig:{url:"users/create_user/",title:"User",pkId:"user_id",exParams:[{key:"role_id",type:"script",value:"data.role.role_id"},{key:"status_id",type:"script",value:"data.status.status_id"}],fields:[{fieldGroupClassName:"row col-12 p-0 m-0 custom-form",fieldGroup:[{className:"col-lg-9 col-md col-12 p-0",fieldGroup:[{key:"profile_picture_url",type:"file",className:"ta-cell pr-md col d-md-none d-block",props:{displayStyle:"avatar",storeFolder:"profile",label:"Profile Pic",multiple:!1,placeholder:"Enter Profile Pic",required:!0}},{key:"title",type:"select",className:"ta-cell pr-md col-12",templateOptions:{label:"Title",required:!0,options:[{label:"Mr.",value:"Mr."},{label:"Ms.",value:"Ms."}]},hooks:{onInit:e=>{}}},{fieldGroupClassName:"row m-0",fieldGroup:[{key:"first_name",type:"text",className:"ta-cell pr-md col-12 col-md-6",templateOptions:{label:"First Name",required:!0},hooks:{onInit:e=>{}}},{key:"last_name",type:"text",className:"ta-cell pr-md col-12 col-md-6",templateOptions:{label:"Last Name",required:!0}},{key:"email",type:"text",className:"ta-cell pr-md col-12",templateOptions:{label:"User Email",dataKey:"user",dataLabel:"user",required:!0},hooks:{onInit:e=>{}}}]}]},{className:"col-lg-3 col-md-auto col-12 p-0",fieldGroup:[{key:"profile_picture_url",type:"file",className:"ta-cell pr-md col d-md-block d-none",props:{displayStyle:"avatar",storeFolder:"profile",label:"Profile Pic",multiple:!1,placeholder:"Enter Profile Pic",required:!0}}]},{fieldGroupClassName:"row m-0",className:"col-12 p-0",fieldGroup:[{key:"mobile",type:"text",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"Mobile",required:!0}},{key:"role",type:"select",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"User Role",dataKey:"role_name",dataLabel:"role_name",options:[],lazy:{url:"users/role/",lazyOneTime:!0},required:!0},hooks:{onInit:e=>{}}},{key:"gender",type:"select",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"Gender",required:!0,options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}]},hooks:{onInit:e=>{}}},{key:"date_of_birth",type:"date",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"Date Of Birth",placeholder:"Enter Birth Date",required:!1}},{key:"status",type:"select",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"Status",dataKey:"status_name",dataLabel:"status_name",options:[],lazy:{url:"masters/statuses/",lazyOneTime:!0}}},{key:"username",type:"text",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{label:"User Name",dataKey:"user",dataLabel:"user",required:!0},hooks:{onInit:e=>{}}},{key:"flag",type:"input",defaultValue:"admin_update",className:"ta-cell pr-md col-12",templateOptions:{type:"hidden"},hooks:{onInit:e=>{e.formControl.setValue("admin_update")}}},{key:"password",type:"text",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{type:"password",label:"Password",required:!0},expressions:{hide:"(model.user_id)?true:false"},hooks:{onInit:e=>{}}},{key:"re_password",type:"text",className:"ta-cell pr-md col-md-6 col-12",templateOptions:{type:"password",label:"Re Password",required:!0},expressions:{hide:"(model.user_id)?true:false"},hooks:{onInit:e=>{}}}]}]}]}}}ngOnInit(){const l=this.taLocal.getItem("user");l&&l.user_id&&(this.curdConfig.tableConfig.apiUrl=`users/user?exclude_id=${l.user_id}`)}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(m.n2))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user"]],standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"container-fluid","pt-3"],[1,"row"],[1,"col-12","px-1"],[1,"custom-list",3,"options"]],template:function(l,e){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"ta-curd-modal",3),t.qZA()()()),2&l&&(t.xp6(3),t.Q6J("options",e.curdConfig))},dependencies:[i.ez,d.l,p.h]}),o})()}}]);