"use strict";(self.webpackChunkcnl=self.webpackChunkcnl||[]).push([[129],{9129:(g,c,o)=>{o.r(c),o.d(c,{ProfileModule:()=>v});var u=o(6814),n=o(2787),m=o(6306),p=o(2096),t=o(5879),d=o(9862),f=o(1495),y=o(7127);const h=[{path:"",component:(()=>{class e{constructor(l,r,s,N){this.router=l,this.activeRouter=r,this.http=s,this.taLoacal=N,this.userName=null,this.userId=null,this.title="Profile",this.showForm=!1,this.options={url:"users/create_user/",title:"User Profile",pkId:"user_id",exParams:[{key:"role_id",type:"script",value:"data.role.role_id"},{key:"status_id",type:"script",value:"data.status.status_id"}],submit:{label:"Update Profile",icon:"user",successMsg:"Profile updated successfully",submittedFn:i=>{this.router.navigateByUrl("/profile")}},fields:[{fieldGroupClassName:"ant-row custom-form-block px-0 mx-0",className:"p-0",fieldGroup:[{className:"col-md-9 col-12 col-sm-8 p-0",fieldGroupClassName:"ant-row",fieldGroup:[{key:"profile_picture_url",type:"file",className:"ta-cell col-12 d-sm-none d-block",props:{displayStyle:"avatar",storeFolder:"profile",label:"Profile Pic",multiple:!1,placeholder:"Enter Profile Pic",required:!0}},{key:"first_name",type:"text",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"First Name",required:!0},hooks:{onInit:i=>{}}},{key:"last_name",type:"text",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Last Name",required:!0}},{key:"email",type:"text",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"User Email",dataKey:"user",dataLabel:"user",required:!0},hooks:{onInit:i=>{}}},{key:"mobile",type:"text",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Mobile",required:!0}},{key:"role",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"User Role",dataKey:"role_name",dataLabel:"role_name",options:[],lazy:{url:"users/role/",lazyOneTime:!0},required:!0},hooks:{onInit:i=>{"Admin"!==JSON.parse(localStorage.getItem("user")||"{}")?.role_name&&(i.templateOptions.disabled=!0)}}},{key:"gender",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Gender",required:!0,options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}]},hooks:{onInit:i=>{}}},{key:"date_of_birth",type:"date",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Date Of Birth",placeholder:"Enter Birth Date",required:!1}},{key:"status",type:"select",className:"col-md-4 col-sm-6 col-12",templateOptions:{label:"Status",dataKey:"status_name",dataLabel:"status_name",options:[],lazy:{url:"masters/statuses/",lazyOneTime:!0}}}]},{className:"col-md-3 col-sm-4 col-12 p-0",fieldGroup:[{key:"profile_picture_url",type:"file",className:"ta-cell col-12 d-sm-block d-none",props:{displayStyle:"avatar",storeFolder:"profile",label:"Profile Pic",multiple:!1,placeholder:"Enter Profile Pic",required:!0}}]}]}]}}ngOnInit(){const l=this.taLoacal.getItem("user");l&&(this.userName=l.username,this.http.get(`users/user/${l.user_id}/`).pipe((0,m.K)(s=>(console.error("Error fetching user data:",s),(0,p.of)(null)))).subscribe(s=>{s&&s.data&&(this.options.model=s.data,this.showForm=!0)}))}}return e.\u0275fac=function(l){return new(l||e)(t.Y36(n.F0),t.Y36(n.gz),t.Y36(d.eN),t.Y36(f.n2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile"]],decls:9,vars:1,consts:[[1,"container-fluid","px-0","pb-3","p-md-3"],[1,"company-banner"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between","align-items","center"],["type","button",1,"btn","pl-0",2,"color","black"],[1,"custom-heading"],[1,"row","custom-form"],[3,"options"]],template:function(l,r){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span",4),t._uU(5,"Profile"),t.qZA()()()(),t.TgZ(6,"div",5)(7,"div"),t._UZ(8,"ta-form",6),t.qZA()()()),2&l&&(t.xp6(8),t.Q6J("options",r.options))},dependencies:[y.C]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.Bz.forChild(h),n.Bz]}),e})();var P=o(3929);let v=(()=>{class e{}return e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,b,P.l]}),e})()}}]);