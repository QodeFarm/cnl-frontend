<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Google Font for modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafb;
      color: #1f2937;
      padding: 2rem;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      padding: 2rem;
    }

    /* Filters row */
    .filters {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    select, input[type="date"] {
      border: 1px solid #d1d5db;
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      font-size: 14px;
      transition: all 0.2s;
      color: #374151;
      background: #fff;
    }

    select:focus, input[type="date"]:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 2px rgba(37,99,235,0.2);
      outline: none;
    }

    button.btn-primary {
      background: #04256b;
      color: white;
      font-weight: 500;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: background 0.2s;
    }

    button.btn-primary:hover {
      background: #04256b;
    }

    /* Table */
    table {
      border-collapse: collapse;
      width: 100%;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    }

    thead {
      background: #1E3A8A;
      color: white;
    }

    th, td {
      padding: 12px 16px;
      text-align: left;
    }

    td.text-right {
      text-align: right;
      font-weight: 500;
    }

    tbody tr:nth-child(even) {
      background: #f9fafb;
    }

    tbody tr:hover {
      background: #eef2ff;
      transition: background 0.2s ease-in-out;
    }

    /* Section headers */
    .font-bold.text-black {
      background: #f3f4f6;
      font-weight: 600;
    }

    /* Colors for amounts */
    .text-red-500, .text-red-600 {
      color: #dc2626;
      font-weight: 500;
    }

    .text-green-600 {
      color: #16a34a;
      font-weight: 500;
    }

    /* Separator */
    hr {
      border: 0;
      border-top: 1px solid #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Date Filters -->
    <div class="filters">
      <select [(ngModel)]="selectedPeriod" aria-label="Quick Period">
        <option disabled selected>Quick Period</option>
        <option value="today">Today</option>
        <option value="yesterday">Yesterday</option>
        <option value="last_week">Last Week</option>
        <option value="current_month">Current Month</option>
        <option value="last_month">Last Month</option>
        <option value="last_six_months">Last Six Months</option>
        <option value="current_quarter">Current Quarter</option>
        <option value="year_to_date">Year to Date</option>
      </select>

      <input type="date" placeholder="From date" aria-label="From date" [(ngModel)]="fromDate" />
      <input type="date" placeholder="To date" aria-label="To date" [(ngModel)]="toDate" />

      <button type="button" class="btn-primary" (click)="refreshReport()">Generate Report</button>
    </div>   

    <!-- Financial Table -->
    <div class="overflow-x-auto">
      <table>
        <thead>
          <tr>
            <th>Category</th>
            <th class="text-right">Amount (₹)</th>
            <th>Remarks</th>
          </tr>
        </thead>
        <tbody>
          <!-- Income Section -->
          <tr class="font-bold text-black">
            <td colspan="3">Income</td>
          </tr>
          <tr>
            <td>Sales Invoices</td>
            <td class="text-right">₹{{ salesInvoices | number:'1.0-2' }}</td>
            <td>Billed to customers</td>
          </tr>
          <tr>
            <td>Sales Credit Notes</td>
            <td class="text-right text-red-500">-₹{{ salesCreditNotes | number:'1.0-2' }}</td>
            <td>Refunds/returns issued</td>
          </tr>
          <tr>
            <td>Sales Debit Notes</td>
            <td class="text-right">₹{{ salesDebitNotes | number:'1.0-2' }}</td>
            <td>Extra charges (late fees, interest, etc.)</td>
          </tr>
          <tr class="font-bold text-black">
            <td>Total Sales</td>
            <td class="text-right">₹{{ totalSales | number:'1.0-2' }}</td>
            <td>= {{ salesInvoices | number:'1.0-2' }} − {{ salesCreditNotes | number:'1.0-2' }} + {{ salesDebitNotes | number:'1.0-2' }}</td>
          </tr>
          <tr><td colspan="3"><hr></td></tr>

          <!-- Expenses Section -->
          <tr class="font-bold text-black">
            <td colspan="3">Expenses</td>
          </tr>
          <tr>
            <td>Purchase Invoices</td>
            <td class="text-right">₹{{ purchaseInvoices | number:'1.0-2' }}</td>
            <td>Materials, stock, etc.</td>
          </tr>
          <tr>
            <td>General Expenses</td>
            <td class="text-right">₹{{ generalExpenses | number:'1.0-2' }}</td>
            <td>Rent, utilities, maintenance</td>
          </tr>
          <tr>
            <td>Salaries</td> 
            <td class="text-right">₹{{ salaries | number:'1.0-2' }}</td>
            <td>Payroll paid to staff</td>
          </tr>
          <tr class="font-bold text-black">
            <td>Total Expenses</td>
            <td class="text-right">₹{{ totalExpenses | number:'1.0-2' }}</td>
            <td>= {{ purchaseInvoices | number:'1.0-2' }} + 0 + 0</td>
          </tr>
          <tr><td colspan="3"><hr></td></tr>

          <!-- Net Profit -->
          <tr class="font-bold text-black">
            <td>Net Profit</td>
            <td class="text-right text-red-600">₹{{ netProfit | number:'1.0-2' }}</td>
            <td>= {{ totalSales | number:'1.0-2' }} − {{ totalExpenses | number:'1.0-2' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
